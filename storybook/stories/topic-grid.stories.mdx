import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import { action } from "@storybook/addon-actions";
import { withKnobs, text, boolean, object, select } from "@storybook/addon-knobs";
import Centered from "../components/Centered";
import * as stories from "./topic-grid.stories.js";

import {
  Categories,
  Topic
} from "@rawpixel-public/react-components";

import "../.storybook/global.css";
import starSvg from "../images/star.svg";

<Meta title="Topics/Topic Grid" decorators={[withKnobs]} />

# Topic Grid

Displays a grid of topics in the sidebar.

The entire grid can be shown with placeholders using the loading prop:
```javascript
<TopicsGrid loading />
```

## Topic

Icon and title to represent a topic from a topic group.

Additional states to indicate tagged images used on the DAM.

<Preview>
  <Story name="topic">
    <Centered style={{background: "#FFF"}}>
      <Topic id={text("id", 1, "topic")} icon={text("icon", starSvg, "topic")} name={text("name", "My topics", "topic")} isLoading={boolean("isLoading", false, "topic")} isTagged={boolean("isTagged", false, "topic")} isTagMode={boolean("isTagMode", false, "topic")} onTopicClick={action("topic-click")} active={boolean("active", false, "topic")} groupIcon={text("groupIcon", starSvg, "topic")} />
    </Centered>
  </Story>
</Preview>

## Topic (DAM)

Example to show different states and loading.

<Preview>
  <Story name="dam">
    <Centered style={{background: "#FFF"}}>
      {stories.dam()}
    </Centered>
  </Story>
</Preview>

## Topics Grid

Displays topics in a grid. Adds a scrollbar when more there are more topics than allocated space.

<Preview>
  <Story name="grid">
    <Centered style={{background: "#FFF", height: "320px"}}>
      {stories.grid()}
    </Centered>
  </Story>
</Preview>

## Topics Grid (without scroll)

Displays topics in a grid. No scrollbar with 9 topics or fewer.

Optionally change this with `viewable` prop (count of number of viewable topics) and/or the `defaultHeight` (height in pixels of the container).

<Preview>
  <Story name="no-scroll">
    <Centered style={{background: "#FFF", height: "320px"}}>
      {stories.noScroll()}
    </Centered>
  </Story>
</Preview>

## Anchor

Specifying `as="a"` and an `href` will render as a regular HTML anchor tag. Other props are passed down, so for example `target="_blank"` and other attributes could be used.

Custom components can be used e.g. `as={Link}` for `react-router` Link components. Note that the `children` and `className` props need to be implemented by the custom component in order for styling to work.

<Preview>
  <Story name="anchor">
    <Centered style={{background: "#FFF"}}>
      <Topic as="a" href={text("href", "https://www.rawpixel.com", "anchor")} id={text("id", 1, "anchor")} icon={text("icon", starSvg, "anchor")} name={text("name", "My topics", "anchor")} isLoading={boolean("isLoading", false, "anchor")} isTagged={boolean("isTagged", false, "anchor")} isTagMode={boolean("isTagMode", false, "anchor")} target={text("target", "_blank", "anchor")} active={boolean("active", false, "anchor")} />
    </Centered>
  </Story>
</Preview>

## API

Example with API using hook `useTopicsApi()`.

<Preview>
  <Story name="api">
    <Centered style={{background: "#FFF", minHeight: "500px"}}>
      {stories.api()}
    </Centered>
  </Story>
</Preview>

