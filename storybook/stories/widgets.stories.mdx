import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import { action } from "@storybook/addon-actions";
import { withKnobs, text, boolean, select } from "@storybook/addon-knobs";
import Centered from "../components/Centered";

import * as stories from "./widgets.stories.js";
import {
  WidgetAddon,
  WidgetTopicGroup
} from "@rawpixel-public/react-components";

import "../.storybook/global.css";
import fontSvg from "../images/font.svg";
import starSvg from "../images/star.svg";

<Meta title="Topics/Widgets" decorators={[withKnobs]} />

# Widgets

Represents "topic groups" as icons with text labels.

## Sidebar

A vertical list of topic groups and addon widgets.

<Preview>
  <Story name="sidebar">
    <Centered style={{background: "#F4F4F4"}}>{stories.sidebar()}</Centered>
  </Story>
</Preview>

## DAM

A horizontal list of topic groups and addon widgets.

<Preview>
  <Story name="dam">
    <Centered style={{background: "#F4F4F4"}}>{stories.dam()}</Centered>
  </Story>
</Preview>

## Addon

Icon and title as a link.

<Preview>
  <Story name="addon">
    <Centered style={{background: "#F4F4F4"}}>
      <WidgetAddon
        title={text("title", "Fonts", "addon")}
        icon_url={text("icon_url", fontSvg, "addon")}
        href={text("href", "https://www.rawpixel.com/search/fonts?sort=curated&page=1", "addon")}
      />
    </Centered>
  </Story>
</Preview>

## Topic Group

Icon and title with `onClick` handler.

Set the `as` prop to render as a custom element or component - for example, the `Link` component from [react-router](https://reacttraining.com/react-router/web/api/Link/to-string). In this case, also supply the `to` prop.

<Preview>
  <Story name="topic-group">
    <Centered style={{background: "#F4F4F4"}}>
      <WidgetTopicGroup
        title={text("title", "My topics", "filter")}
        icon_url={text("icon_url", starSvg, "filter")}
        onClick={action("widget-filter-click")}
        active={boolean("active", false, "filter")}
        as={select("as", {"a": "a", "button": "button", "div": "div"}, "button", "filter")}
        href={text("href", "https://www.rawpixel.com", "filter")}
      />
    </Centered>
  </Story>
</Preview>
